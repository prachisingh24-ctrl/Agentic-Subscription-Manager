<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign In - Agentic</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Segoe UI',sans-serif;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#ffffff;
  color:#1a1a1a;
}

.container{
  width:380px;
  padding:40px;
  border-radius:20px;
  background:#ffffff;
  box-shadow:0 20px 60px rgba(0,0,0,0.08);
}

h2{
  text-align:center;
  margin-bottom:25px;
  color:#1a1a1a;
}

form{
  display:flex;
  flex-direction:column;
  gap:15px;
}

input{
  padding:14px;
  border-radius:12px;
  border:1px solid #e5e5e5;
  outline:none;
  background:#fafafa;
  font-size:15px;
}

input:focus{
  border-color:#2979ff;
  background:#ffffff;
}

button{
  margin-top:10px;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#2979ff;
  color:white;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  transition:0.25s;
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 25px rgba(41,121,255,0.25);
}

.linkSwitch{
  margin-top:15px;
  text-align:center;
  font-size:14px;
  color:#666;
}

.linkSwitch span{
  color:#2979ff;
  cursor:pointer;
  font-weight:600;
}

/* POPUP MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  display:flex;
  justify-content:center;
  align-items:center;
  visibility:hidden;
  opacity:0;
  transition:0.3s;
}

.modal.active{
  visibility:visible;
  opacity:1;
}

.modalBox{
  background:white;
  padding:30px;
  border-radius:18px;
  width:320px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,0.15);
}

.modalBox h3{
  margin-bottom:10px;
}

.modalBox p{
  font-size:14px;
  color:#555;
  margin-bottom:20px;
}

.dashboardBtn{
  background:linear-gradient(90deg,#2979ff,#00c6ff);
}

.hidden{display:none}

</style>
</head>

<body>

<div class="container">
  <h2 id="formTitle">Sign In</h2>

  <form id="loginForm">
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPass" placeholder="Password" required>
    <button type="submit">Sign In</button>
  </form>

  <form id="signupForm" class="hidden">
    <input type="text" id="signupName" placeholder="Full Name" required>
    <input type="email" id="signupEmail" placeholder="Email" required>
    <input type="password" id="signupPass" placeholder="Password" required>
    <button type="submit">Create Account</button>
  </form>

  <div class="linkSwitch">
    <span onclick="toggleForm()" id="switchText">Create account</span>
  </div>
</div>

<!-- POPUP 1 -->
<div class="modal" id="welcomeModal">
  <div class="modalBox">
    <h3>Hello! ðŸ‘‹</h3>
    <p>We are glad youâ€™re here. Letâ€™s get started.</p>
    <button onclick="showPlan()">Continue</button>
  </div>
</div>

<!-- POPUP 2 -->
<div class="modal" id="planModal">
  <div class="modalBox">
    <h3>Subscription Active âœ…</h3>
    <p id="planText"></p>
    <button class="dashboardBtn" onclick="goDashboard()">Go to Dashboard</button>
  </div>
</div>

<script>
if(localStorage.getItem("loggedInUser")){
  window.location.href = "index.html";
}

const loginForm=document.getElementById("loginForm");
const signupForm=document.getElementById("signupForm");
const formTitle=document.getElementById("formTitle");
const switchText=document.getElementById("switchText");

let isLogin=true;

function toggleForm(){
  isLogin=!isLogin;
  loginForm.classList.toggle("hidden");
  signupForm.classList.toggle("hidden");
  formTitle.innerText=isLogin?"Sign In":"Sign Up";
  switchText.innerText=isLogin?"Create account":"Already have account? Sign In";
}

signupForm.addEventListener("submit",e=>{
  e.preventDefault();

  const user={
    name:signupName.value,
    email:signupEmail.value,
    pass:signupPass.value,
    nextUpdate:getNextUpdateDate()
  };

  localStorage.setItem("user_"+user.email,JSON.stringify(user));
  alert("Account created. Please sign in.");
  toggleForm();
});

loginForm.addEventListener("submit",e=>{
  e.preventDefault();

  const email=loginEmail.value;
  const pass=loginPass.value;

  const stored=JSON.parse(localStorage.getItem("user_"+email));

  if(stored && stored.pass===pass){
    localStorage.setItem("loggedInUser",email);
    document.getElementById("welcomeModal").classList.add("active");
  }else{
    alert("Invalid login details");
  }
});

function getNextUpdateDate(){
  const d=new Date();
  d.setDate(d.getDate()+30);
  return d.toDateString();
}

function showPlan(){
  document.getElementById("welcomeModal").classList.remove("active");

  const email=localStorage.getItem("loggedInUser");
  const user=JSON.parse(localStorage.getItem("user_"+email));

  document.getElementById("planText").innerText=
    `Your plan is active and working well. Your next update is on ${user.nextUpdate}`;

  document.getElementById("planModal").classList.add("active");
}

function goDashboard(){
  window.location.href="index.html";
}
</script>

</body>
</html>
